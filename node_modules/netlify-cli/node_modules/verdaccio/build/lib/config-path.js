"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _fs = _interopRequireDefault(require("fs"));

var _lodash = _interopRequireDefault(require("lodash"));

var _mkdirp = _interopRequireDefault(require("mkdirp"));

var _path = _interopRequireDefault(require("path"));

var _logger = require("./logger");

var _utils = require("./utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const CONFIG_FILE = 'config.yaml';
const XDG = 'xdg';
const WIN = 'win';
const WIN32 = 'win32'; // eslint-disable-next-line

const pkgJSON = require('../../package.json');

/**
 * Find and get the first config file that match.
 * @return {String} the config file path
 */
function findConfigFile(configPath) {
  if (_lodash.default.isNil(configPath) === false) {
    return _path.default.resolve(configPath);
  }

  const configPaths = getConfigPaths();

  if (_lodash.default.isEmpty(configPaths)) {
    throw new Error('no configuration files can be processed');
  }

  const primaryConf = _lodash.default.find(configPaths, configLocation => (0, _utils.fileExists)(configLocation.path));

  if (_lodash.default.isNil(primaryConf) === false) {
    return primaryConf.path;
  }

  return createConfigFile(_lodash.default.head(configPaths)).path;
}

function createConfigFile(configLocation) {
  createConfigFolder(configLocation);
  const defaultConfig = updateStorageLinks(configLocation, readDefaultConfig());

  _fs.default.writeFileSync(configLocation.path, defaultConfig);

  return configLocation;
}

function readDefaultConfig() {
  return _fs.default.readFileSync(require.resolve('../../conf/default.yaml'), 'utf-8');
}

function createConfigFolder(configLocation) {
  _mkdirp.default.sync(_path.default.dirname(configLocation.path));

  _logger.logger.info({
    file: configLocation.path
  }, 'Creating default config file in @{file}');
}

function updateStorageLinks(configLocation, defaultConfig) {
  if (configLocation.type !== XDG) {
    return defaultConfig;
  } // $XDG_DATA_HOME defines the base directory relative to which user specific data files should be stored,
  // If $XDG_DATA_HOME is either not set or empty, a default equal to $HOME/.local/share should be used.
  // $FlowFixMe


  let dataDir = process.env.XDG_DATA_HOME || _path.default.join(process.env.HOME, '.local', 'share');

  if ((0, _utils.folderExists)(dataDir)) {
    dataDir = _path.default.resolve(_path.default.join(dataDir, pkgJSON.name, 'storage'));
    return defaultConfig.replace(/^storage: .\/storage$/m, `storage: ${dataDir}`);
  }

  return defaultConfig;
}

function getConfigPaths() {
  const listPaths = [getXDGDirectory(), getWindowsDirectory(), getRelativeDefaultDirectory(), getOldDirectory()].reduce(function (acc, currentValue) {
    if (_lodash.default.isUndefined(currentValue) === false) {
      acc.push(currentValue);
    }

    return acc;
  }, []);
  return listPaths;
}

const getXDGDirectory = () => {
  const XDGConfig = getXDGHome() || process.env.HOME && _path.default.join(process.env.HOME, '.config');

  if (XDGConfig && (0, _utils.folderExists)(XDGConfig)) {
    return {
      path: _path.default.join(XDGConfig, pkgJSON.name, CONFIG_FILE),
      type: XDG
    };
  }
};

const getXDGHome = () => process.env.XDG_CONFIG_HOME;

const getWindowsDirectory = () => {
  if (process.platform === WIN32 && process.env.APPDATA && (0, _utils.folderExists)(process.env.APPDATA)) {
    return {
      path: _path.default.resolve(_path.default.join(process.env.APPDATA, pkgJSON.name, CONFIG_FILE)),
      type: WIN
    };
  }
};

const getRelativeDefaultDirectory = () => {
  return {
    path: _path.default.resolve(_path.default.join('.', pkgJSON.name, CONFIG_FILE)),
    type: 'def'
  };
};

const getOldDirectory = () => {
  return {
    path: _path.default.resolve(_path.default.join('.', CONFIG_FILE)),
    type: 'old'
  };
};

var _default = findConfigFile;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDT05GSUdfRklMRSIsIlhERyIsIldJTiIsIldJTjMyIiwicGtnSlNPTiIsInJlcXVpcmUiLCJmaW5kQ29uZmlnRmlsZSIsImNvbmZpZ1BhdGgiLCJfIiwiaXNOaWwiLCJQYXRoIiwicmVzb2x2ZSIsImNvbmZpZ1BhdGhzIiwiZ2V0Q29uZmlnUGF0aHMiLCJpc0VtcHR5IiwiRXJyb3IiLCJwcmltYXJ5Q29uZiIsImZpbmQiLCJjb25maWdMb2NhdGlvbiIsInBhdGgiLCJjcmVhdGVDb25maWdGaWxlIiwiaGVhZCIsImNyZWF0ZUNvbmZpZ0ZvbGRlciIsImRlZmF1bHRDb25maWciLCJ1cGRhdGVTdG9yYWdlTGlua3MiLCJyZWFkRGVmYXVsdENvbmZpZyIsImZzIiwid3JpdGVGaWxlU3luYyIsInJlYWRGaWxlU3luYyIsIm1rZGlycCIsInN5bmMiLCJkaXJuYW1lIiwibG9nZ2VyIiwiaW5mbyIsImZpbGUiLCJ0eXBlIiwiZGF0YURpciIsInByb2Nlc3MiLCJlbnYiLCJYREdfREFUQV9IT01FIiwiam9pbiIsIkhPTUUiLCJuYW1lIiwicmVwbGFjZSIsImxpc3RQYXRocyIsImdldFhER0RpcmVjdG9yeSIsImdldFdpbmRvd3NEaXJlY3RvcnkiLCJnZXRSZWxhdGl2ZURlZmF1bHREaXJlY3RvcnkiLCJnZXRPbGREaXJlY3RvcnkiLCJyZWR1Y2UiLCJhY2MiLCJjdXJyZW50VmFsdWUiLCJpc1VuZGVmaW5lZCIsInB1c2giLCJYREdDb25maWciLCJnZXRYREdIb21lIiwiWERHX0NPTkZJR19IT01FIiwicGxhdGZvcm0iLCJBUFBEQVRBIl0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL2xpYi9jb25maWctcGF0aC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBta2RpcnAgZnJvbSAnbWtkaXJwJztcbmltcG9ydCBQYXRoIGZyb20gJ3BhdGgnO1xuXG5pbXBvcnQgeyBDSEFSQUNURVJfRU5DT0RJTkcgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuL2xvZ2dlcic7XG5pbXBvcnQgeyBmaWxlRXhpc3RzLCBmb2xkZXJFeGlzdHMgfSBmcm9tICcuL3V0aWxzJztcblxuY29uc3QgQ09ORklHX0ZJTEUgPSAnY29uZmlnLnlhbWwnO1xuY29uc3QgWERHID0gJ3hkZyc7XG5jb25zdCBXSU4gPSAnd2luJztcbmNvbnN0IFdJTjMyID0gJ3dpbjMyJztcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuY29uc3QgcGtnSlNPTiA9IHJlcXVpcmUoJy4uLy4uL3BhY2thZ2UuanNvbicpO1xuXG5leHBvcnQgdHlwZSBTZXR1cERpcmVjdG9yeSA9IHtcbiAgcGF0aDogc3RyaW5nO1xuICB0eXBlOiBzdHJpbmc7XG59O1xuXG4vKipcbiAqIEZpbmQgYW5kIGdldCB0aGUgZmlyc3QgY29uZmlnIGZpbGUgdGhhdCBtYXRjaC5cbiAqIEByZXR1cm4ge1N0cmluZ30gdGhlIGNvbmZpZyBmaWxlIHBhdGhcbiAqL1xuZnVuY3Rpb24gZmluZENvbmZpZ0ZpbGUoY29uZmlnUGF0aDogc3RyaW5nKTogc3RyaW5nIHtcbiAgaWYgKF8uaXNOaWwoY29uZmlnUGF0aCkgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIFBhdGgucmVzb2x2ZShjb25maWdQYXRoKTtcbiAgfVxuXG4gIGNvbnN0IGNvbmZpZ1BhdGhzOiBTZXR1cERpcmVjdG9yeVtdID0gZ2V0Q29uZmlnUGF0aHMoKTtcblxuICBpZiAoXy5pc0VtcHR5KGNvbmZpZ1BhdGhzKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignbm8gY29uZmlndXJhdGlvbiBmaWxlcyBjYW4gYmUgcHJvY2Vzc2VkJyk7XG4gIH1cblxuICBjb25zdCBwcmltYXJ5Q29uZjogYW55ID0gXy5maW5kKGNvbmZpZ1BhdGhzLCAoY29uZmlnTG9jYXRpb246IGFueSkgPT4gZmlsZUV4aXN0cyhjb25maWdMb2NhdGlvbi5wYXRoKSk7XG4gIGlmIChfLmlzTmlsKHByaW1hcnlDb25mKSA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gcHJpbWFyeUNvbmYucGF0aDtcbiAgfVxuXG4gIHJldHVybiBjcmVhdGVDb25maWdGaWxlKF8uaGVhZChjb25maWdQYXRocykpLnBhdGg7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbmZpZ0ZpbGUoY29uZmlnTG9jYXRpb246IGFueSk6IFNldHVwRGlyZWN0b3J5IHtcbiAgY3JlYXRlQ29uZmlnRm9sZGVyKGNvbmZpZ0xvY2F0aW9uKTtcblxuICBjb25zdCBkZWZhdWx0Q29uZmlnID0gdXBkYXRlU3RvcmFnZUxpbmtzKGNvbmZpZ0xvY2F0aW9uLCByZWFkRGVmYXVsdENvbmZpZygpKTtcblxuICBmcy53cml0ZUZpbGVTeW5jKGNvbmZpZ0xvY2F0aW9uLnBhdGgsIGRlZmF1bHRDb25maWcpO1xuXG4gIHJldHVybiBjb25maWdMb2NhdGlvbjtcbn1cblxuZnVuY3Rpb24gcmVhZERlZmF1bHRDb25maWcoKTogc3RyaW5nIHtcbiAgcmV0dXJuIGZzLnJlYWRGaWxlU3luYyhyZXF1aXJlLnJlc29sdmUoJy4uLy4uL2NvbmYvZGVmYXVsdC55YW1sJyksICd1dGYtOCcpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVDb25maWdGb2xkZXIoY29uZmlnTG9jYXRpb24pOiB2b2lkIHtcbiAgbWtkaXJwLnN5bmMoUGF0aC5kaXJuYW1lKGNvbmZpZ0xvY2F0aW9uLnBhdGgpKTtcbiAgbG9nZ2VyLmluZm8oeyBmaWxlOiBjb25maWdMb2NhdGlvbi5wYXRoIH0sICdDcmVhdGluZyBkZWZhdWx0IGNvbmZpZyBmaWxlIGluIEB7ZmlsZX0nKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlU3RvcmFnZUxpbmtzKGNvbmZpZ0xvY2F0aW9uLCBkZWZhdWx0Q29uZmlnKTogc3RyaW5nIHtcbiAgaWYgKGNvbmZpZ0xvY2F0aW9uLnR5cGUgIT09IFhERykge1xuICAgIHJldHVybiBkZWZhdWx0Q29uZmlnO1xuICB9XG5cbiAgLy8gJFhER19EQVRBX0hPTUUgZGVmaW5lcyB0aGUgYmFzZSBkaXJlY3RvcnkgcmVsYXRpdmUgdG8gd2hpY2ggdXNlciBzcGVjaWZpYyBkYXRhIGZpbGVzIHNob3VsZCBiZSBzdG9yZWQsXG4gIC8vIElmICRYREdfREFUQV9IT01FIGlzIGVpdGhlciBub3Qgc2V0IG9yIGVtcHR5LCBhIGRlZmF1bHQgZXF1YWwgdG8gJEhPTUUvLmxvY2FsL3NoYXJlIHNob3VsZCBiZSB1c2VkLlxuICAvLyAkRmxvd0ZpeE1lXG4gIGxldCBkYXRhRGlyID0gcHJvY2Vzcy5lbnYuWERHX0RBVEFfSE9NRSB8fCBQYXRoLmpvaW4ocHJvY2Vzcy5lbnYuSE9NRSBhcyBzdHJpbmcsICcubG9jYWwnLCAnc2hhcmUnKTtcbiAgaWYgKGZvbGRlckV4aXN0cyhkYXRhRGlyKSkge1xuICAgIGRhdGFEaXIgPSBQYXRoLnJlc29sdmUoUGF0aC5qb2luKGRhdGFEaXIsIHBrZ0pTT04ubmFtZSwgJ3N0b3JhZ2UnKSk7XG4gICAgcmV0dXJuIGRlZmF1bHRDb25maWcucmVwbGFjZSgvXnN0b3JhZ2U6IC5cXC9zdG9yYWdlJC9tLCBgc3RvcmFnZTogJHtkYXRhRGlyfWApO1xuICB9XG4gIHJldHVybiBkZWZhdWx0Q29uZmlnO1xufVxuXG5mdW5jdGlvbiBnZXRDb25maWdQYXRocygpOiBTZXR1cERpcmVjdG9yeVtdIHtcbiAgY29uc3QgbGlzdFBhdGhzOiBTZXR1cERpcmVjdG9yeVtdID0gW2dldFhER0RpcmVjdG9yeSgpLCBnZXRXaW5kb3dzRGlyZWN0b3J5KCksIGdldFJlbGF0aXZlRGVmYXVsdERpcmVjdG9yeSgpLCBnZXRPbGREaXJlY3RvcnkoKV0ucmVkdWNlKGZ1bmN0aW9uIChcbiAgICBhY2MsXG4gICAgY3VycmVudFZhbHVlOiBhbnlcbiAgKTogU2V0dXBEaXJlY3RvcnlbXSB7XG4gICAgaWYgKF8uaXNVbmRlZmluZWQoY3VycmVudFZhbHVlKSA9PT0gZmFsc2UpIHtcbiAgICAgIGFjYy5wdXNoKGN1cnJlbnRWYWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBhY2M7XG4gIH0sXG4gIFtdIGFzIFNldHVwRGlyZWN0b3J5W10pO1xuXG4gIHJldHVybiBsaXN0UGF0aHM7XG59XG5cbmNvbnN0IGdldFhER0RpcmVjdG9yeSA9ICgpOiBTZXR1cERpcmVjdG9yeSB8IHZvaWQgPT4ge1xuICBjb25zdCBYREdDb25maWcgPSBnZXRYREdIb21lKCkgfHwgKHByb2Nlc3MuZW52LkhPTUUgJiYgUGF0aC5qb2luKHByb2Nlc3MuZW52LkhPTUUsICcuY29uZmlnJykpO1xuXG4gIGlmIChYREdDb25maWcgJiYgZm9sZGVyRXhpc3RzKFhER0NvbmZpZykpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcGF0aDogUGF0aC5qb2luKFhER0NvbmZpZywgcGtnSlNPTi5uYW1lLCBDT05GSUdfRklMRSksXG4gICAgICB0eXBlOiBYREcsXG4gICAgfTtcbiAgfVxufTtcblxuY29uc3QgZ2V0WERHSG9tZSA9ICgpOiBzdHJpbmcgfCB2b2lkID0+IHByb2Nlc3MuZW52LlhER19DT05GSUdfSE9NRTtcblxuY29uc3QgZ2V0V2luZG93c0RpcmVjdG9yeSA9ICgpOiBTZXR1cERpcmVjdG9yeSB8IHZvaWQgPT4ge1xuICBpZiAocHJvY2Vzcy5wbGF0Zm9ybSA9PT0gV0lOMzIgJiYgcHJvY2Vzcy5lbnYuQVBQREFUQSAmJiBmb2xkZXJFeGlzdHMocHJvY2Vzcy5lbnYuQVBQREFUQSkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcGF0aDogUGF0aC5yZXNvbHZlKFBhdGguam9pbihwcm9jZXNzLmVudi5BUFBEQVRBLCBwa2dKU09OLm5hbWUsIENPTkZJR19GSUxFKSksXG4gICAgICB0eXBlOiBXSU4sXG4gICAgfTtcbiAgfVxufTtcblxuY29uc3QgZ2V0UmVsYXRpdmVEZWZhdWx0RGlyZWN0b3J5ID0gKCk6IFNldHVwRGlyZWN0b3J5ID0+IHtcbiAgcmV0dXJuIHtcbiAgICBwYXRoOiBQYXRoLnJlc29sdmUoUGF0aC5qb2luKCcuJywgcGtnSlNPTi5uYW1lLCBDT05GSUdfRklMRSkpLFxuICAgIHR5cGU6ICdkZWYnLFxuICB9O1xufTtcblxuY29uc3QgZ2V0T2xkRGlyZWN0b3J5ID0gKCk6IFNldHVwRGlyZWN0b3J5ID0+IHtcbiAgcmV0dXJuIHtcbiAgICBwYXRoOiBQYXRoLnJlc29sdmUoUGF0aC5qb2luKCcuJywgQ09ORklHX0ZJTEUpKSxcbiAgICB0eXBlOiAnb2xkJyxcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZpbmRDb25maWdGaWxlO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBR0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxXQUFXLEdBQUcsYUFBcEI7QUFDQSxNQUFNQyxHQUFHLEdBQUcsS0FBWjtBQUNBLE1BQU1DLEdBQUcsR0FBRyxLQUFaO0FBQ0EsTUFBTUMsS0FBSyxHQUFHLE9BQWQsQyxDQUNBOztBQUNBLE1BQU1DLE9BQU8sR0FBR0MsT0FBTyxDQUFDLG9CQUFELENBQXZCOztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBU0MsY0FBVCxDQUF3QkMsVUFBeEIsRUFBb0Q7RUFDbEQsSUFBSUMsZ0JBQUVDLEtBQUYsQ0FBUUYsVUFBUixNQUF3QixLQUE1QixFQUFtQztJQUNqQyxPQUFPRyxjQUFLQyxPQUFMLENBQWFKLFVBQWIsQ0FBUDtFQUNEOztFQUVELE1BQU1LLFdBQTZCLEdBQUdDLGNBQWMsRUFBcEQ7O0VBRUEsSUFBSUwsZ0JBQUVNLE9BQUYsQ0FBVUYsV0FBVixDQUFKLEVBQTRCO0lBQzFCLE1BQU0sSUFBSUcsS0FBSixDQUFVLHlDQUFWLENBQU47RUFDRDs7RUFFRCxNQUFNQyxXQUFnQixHQUFHUixnQkFBRVMsSUFBRixDQUFPTCxXQUFQLEVBQXFCTSxjQUFELElBQXlCLHVCQUFXQSxjQUFjLENBQUNDLElBQTFCLENBQTdDLENBQXpCOztFQUNBLElBQUlYLGdCQUFFQyxLQUFGLENBQVFPLFdBQVIsTUFBeUIsS0FBN0IsRUFBb0M7SUFDbEMsT0FBT0EsV0FBVyxDQUFDRyxJQUFuQjtFQUNEOztFQUVELE9BQU9DLGdCQUFnQixDQUFDWixnQkFB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